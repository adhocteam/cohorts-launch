:javascript
  $('#timeSlotSubmitButton').on('click', function(e){
    // We don't want this to act as a link so cancel the link action
    e.preventDefault();
    $.post('/v2/reservations', $('#new_v2_reservation').serialize())
    .done(function(){
      $('#calendar').fullCalendar( 'refetchEvents' );
      $('#invitationModal').modal('hide');
    });
  });
#invitationModal.modal.fade{tabindex: "-1"}
  .modal-dialog
    .modal-content
      .modal-header
        %button.close{"data-dismiss" => "modal", type: "button"}
          %span{"aria-hidden" => "true"} Ã—
          %span.sr-only close
        %h4#modalTitle.modal-title= @time_slot.event.title
        %h5#modalTime.modal-title= @time_slot.event.start_datetime_human
      #modalBody.modal-body
        #modalDescription
          = @time_slot.event.description
        #modalDetails
          %dl.dl-horizontal
            %dt Duration:
            %dd
              = @time_slot.duration / 60
              minutes
            %dt With:
            %dd= @time_slot.event.user.name
            %dt Tel:
            %dd= @time_slot.event.user.phone_number
      - unless current_user
        %div Choose this time slot
        = form_for @reservation, url: v2_reservations_path, html: { class: 'form-horizontal' } do |form|
          = form.hidden_field :person_id, value: @person.id
          = form.hidden_field :user_id, value: @time_slot.user.id
          = form.hidden_field :event_id,value: @time_slot.event.id
          = form.hidden_field :event_invitation_id, value: @time_slot.event_invitation.id
          = form.hidden_field :time_slot_id, value: @time_slot.id
    .modal-footer
      - unless current_user # only people can select
        %button#timeSlotSubmitButton.btn.btn-primary{"data-dismiss" => "modal", type: "submit"} Select
      %button.btn.btn-default{"data-dismiss" => "modal", type: "button"} Close
